{"ast":null,"code":"import{useEffect,useState}from\"react\";import\"../Answers/Answers.css\";import{getResults}from\"../../requests/getResults\";import{handleStartQuiz}from\"../../requests/startQuiz\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const Results=_ref=>{let{scores}=_ref;//TODO update type\nconst[results,setResults]=useState();const hasScore=(scores===null||scores===void 0?void 0:scores.length)===9;useEffect(()=>{const fetchData=async()=>{try{const results=await getResults();setResults(results);}catch(error){console.error(\"Error fetching results:\",error);}};fetchData();},[hasScore]);return/*#__PURE__*/_jsx(_Fragment,{children:scores&&scores.length>=10&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Game over\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Results: \"}),/*#__PURE__*/_jsxs(\"h4\",{children:[\"You got \",results===null||results===void 0?void 0:results.score.correct.score]}),/*#__PURE__*/_jsx(\"ol\",{style:{display:\"flex\",flexDirection:\"column\"},children:scores.map((data,index)=>{return/*#__PURE__*/_jsxs(\"li\",{children:[data.answer,\" --- \",data.isCorrect?\"Correct\":\"Incorrect\"]},\"\".concat(data.id,\"=\").concat(index));})}),/*#__PURE__*/_jsx(\"button\",{className:\"button restart\",onClick:()=>{handleStartQuiz(\"answer\");},children:\"Start again\"})]})});};export default Results;","map":{"version":3,"names":["useEffect","useState","getResults","handleStartQuiz","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Results","_ref","scores","results","setResults","hasScore","length","fetchData","error","console","children","score","correct","style","display","flexDirection","map","data","index","answer","isCorrect","concat","id","className","onClick"],"sources":["/Users/louisegilligan/GitRepos/guess-the-character/client/src/components/Results/Results.tsx"],"sourcesContent":["import { FC, useEffect, useState } from \"react\";\nimport \"../Answers/Answers.css\";\nimport { AnswerData } from \"../../pages/Game/Game.types\";\nimport { getResults } from \"../../requests/getResults\";\nimport { handleStartQuiz } from \"../../requests/startQuiz\";\n\ntype ResultsProps = {\n  scores?: AnswerData[];\n};\n\nconst Results: FC<ResultsProps> = ({ scores }) => {\n  //TODO update type\n  const [results, setResults] = useState<any>();\n\n  const hasScore = scores?.length === 9;\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const results = await getResults();\n        setResults(results);\n      } catch (error) {\n        console.error(\"Error fetching results:\", error);\n      }\n    };\n\n    fetchData();\n  }, [hasScore]);\n\n  return (\n    <>\n      {scores && scores.length >= 10 && (\n        <>\n          <h2>Game over</h2>\n          <h3>Results: </h3>\n          <h4>You got {results?.score.correct.score}</h4>\n\n          <ol style={{ display: \"flex\", flexDirection: \"column\" }}>\n            {scores.map((data: AnswerData, index) => {\n              return (\n                <li key={`${data.id}=${index}`}>\n                  {data.answer} --- {data.isCorrect ? \"Correct\" : \"Incorrect\"}\n                </li>\n              );\n            })}\n          </ol>\n          <button\n            className=\"button restart\"\n            onClick={() => {\n              handleStartQuiz(\"answer\");\n            }}\n          >\n            Start again\n          </button>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default Results;\n"],"mappings":"AAAA,OAAaA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC/C,MAAO,wBAAwB,CAE/B,OAASC,UAAU,KAAQ,2BAA2B,CACtD,OAASC,eAAe,KAAQ,0BAA0B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAM3D,KAAM,CAAAC,OAAyB,CAAGC,IAAA,EAAgB,IAAf,CAAEC,MAAO,CAAC,CAAAD,IAAA,CAC3C;AACA,KAAM,CAACE,OAAO,CAAEC,UAAU,CAAC,CAAGb,QAAQ,CAAM,CAAC,CAE7C,KAAM,CAAAc,QAAQ,CAAG,CAAAH,MAAM,SAANA,MAAM,iBAANA,MAAM,CAAEI,MAAM,IAAK,CAAC,CAErChB,SAAS,CAAC,IAAM,CACd,KAAM,CAAAiB,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC5B,GAAI,CACF,KAAM,CAAAJ,OAAO,CAAG,KAAM,CAAAX,UAAU,CAAC,CAAC,CAClCY,UAAU,CAACD,OAAO,CAAC,CACrB,CAAE,MAAOK,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,CAAEA,KAAK,CAAC,CACjD,CACF,CAAC,CAEDD,SAAS,CAAC,CAAC,CACb,CAAC,CAAE,CAACF,QAAQ,CAAC,CAAC,CAEd,mBACEV,IAAA,CAAAI,SAAA,EAAAW,QAAA,CACGR,MAAM,EAAIA,MAAM,CAACI,MAAM,EAAI,EAAE,eAC5BT,KAAA,CAAAE,SAAA,EAAAW,QAAA,eACEf,IAAA,OAAAe,QAAA,CAAI,WAAS,CAAI,CAAC,cAClBf,IAAA,OAAAe,QAAA,CAAI,WAAS,CAAI,CAAC,cAClBb,KAAA,OAAAa,QAAA,EAAI,UAAQ,CAACP,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAEQ,KAAK,CAACC,OAAO,CAACD,KAAK,EAAK,CAAC,cAE/ChB,IAAA,OAAIkB,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEC,aAAa,CAAE,QAAS,CAAE,CAAAL,QAAA,CACrDR,MAAM,CAACc,GAAG,CAAC,CAACC,IAAgB,CAAEC,KAAK,GAAK,CACvC,mBACErB,KAAA,OAAAa,QAAA,EACGO,IAAI,CAACE,MAAM,CAAC,OAAK,CAACF,IAAI,CAACG,SAAS,CAAG,SAAS,CAAG,WAAW,MAAAC,MAAA,CADjDJ,IAAI,CAACK,EAAE,MAAAD,MAAA,CAAIH,KAAK,CAExB,CAAC,CAET,CAAC,CAAC,CACA,CAAC,cACLvB,IAAA,WACE4B,SAAS,CAAC,gBAAgB,CAC1BC,OAAO,CAAEA,CAAA,GAAM,CACb/B,eAAe,CAAC,QAAQ,CAAC,CAC3B,CAAE,CAAAiB,QAAA,CACH,aAED,CAAQ,CAAC,EACT,CACH,CACD,CAAC,CAEP,CAAC,CAED,cAAe,CAAAV,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}