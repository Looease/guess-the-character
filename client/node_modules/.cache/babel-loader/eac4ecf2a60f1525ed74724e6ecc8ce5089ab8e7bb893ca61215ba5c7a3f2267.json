{"ast":null,"code":"var _jsxFileName = \"/Users/louisegilligan/GitRepos/guess-the-character/client/src/components/Results/Results.tsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport \"../Answers/Answers.css\";\nimport { getResults } from \"../../requests/getResults\";\nimport { handleStartQuiz } from \"../../requests/startQuiz\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Results = ({\n  scores\n}) => {\n  _s();\n  //TODO update type\n  const [results, setResults] = useState();\n  const hasScore = (scores === null || scores === void 0 ? void 0 : scores.length) === 9;\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const results = await getResults();\n        setResults(results);\n      } catch (error) {\n        console.error(\"Error fetching results:\", error);\n      }\n    };\n    fetchData();\n  }, [hasScore]);\n  const score = scores === null || scores === void 0 ? void 0 : scores.filter(answer => {\n    return !answer.isCorrect;\n  });\n  console.log(score, 'SCORE');\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: scores && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Game over\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Results: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: [\"You got \", results === null || results === void 0 ? void 0 : results.score.correct.score]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n        style: {\n          display: \"flex\",\n          flexDirection: \"column\"\n        },\n        children: scores.map((data, index) => {\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [data.answer, \" --- \", data.isCorrect ? \"Correct\" : \"Incorrect\"]\n          }, `${data.id}=${index}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button restart\",\n        onClick: () => {\n          handleStartQuiz(\"answer\");\n          localStorage.setItem(\"answerArray\", JSON.stringify([]));\n        },\n        children: \"Start again\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)\n  }, void 0, false);\n};\n_s(Results, \"eIDL3atRCRjHJtkVdhpFgVDMoVU=\");\n_c = Results;\nexport default Results;\nvar _c;\n$RefreshReg$(_c, \"Results\");","map":{"version":3,"names":["useEffect","useState","getResults","handleStartQuiz","jsxDEV","_jsxDEV","Fragment","_Fragment","Results","scores","_s","results","setResults","hasScore","length","fetchData","error","console","score","filter","answer","isCorrect","log","children","fileName","_jsxFileName","lineNumber","columnNumber","correct","style","display","flexDirection","map","data","index","id","className","onClick","localStorage","setItem","JSON","stringify","_c","$RefreshReg$"],"sources":["/Users/louisegilligan/GitRepos/guess-the-character/client/src/components/Results/Results.tsx"],"sourcesContent":["import { FC, useEffect, useState } from \"react\";\nimport \"../Answers/Answers.css\";\nimport { AnswerData } from \"../../pages/Game/Game.types\";\nimport { getResults } from \"../../requests/getResults\";\nimport { handleStartQuiz } from \"../../requests/startQuiz\";\n\ntype ResultsProps = {\n  scores?: AnswerData[];\n};\n\nconst Results: FC<ResultsProps> = ({ scores }) => {\n  //TODO update type\n  const [results, setResults] = useState<any>();\n\n  const hasScore = scores?.length === 9;\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const results = await getResults();\n        setResults(results);\n      } catch (error) {\n        console.error(\"Error fetching results:\", error);\n      }\n    };\n\n    fetchData();\n  }, [hasScore]);\n\n  const score = scores?.filter((answer) => {return !answer.isCorrect})\n\n  console.log(score, 'SCORE')\n\n  return (\n    <>\n      {scores && (\n        <>\n          <h2>Game over</h2>\n          <h3>Results: </h3>\n          <h4>You got {results?.score.correct.score}</h4>\n\n          <ol style={{ display: \"flex\", flexDirection: \"column\" }}>\n            {scores.map((data: AnswerData, index) => {\n              return (\n                <li key={`${data.id}=${index}`}>\n                  {data.answer} --- {data.isCorrect ? \"Correct\" : \"Incorrect\"}\n                </li>\n              );\n            })}\n          </ol>\n          <button\n            className=\"button restart\"\n            onClick={() => {\n              handleStartQuiz(\"answer\");\n              localStorage.setItem(\"answerArray\", JSON.stringify([]));\n            }}\n          >\n            Start again\n          </button>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default Results;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}